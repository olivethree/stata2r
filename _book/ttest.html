<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Cookbook Data Analysis with Stata and R - 3&nbsp; t-test</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./references.html" rel="next">
<link href="./getting_started.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./ttest.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">t-test</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Cookbook Data Analysis with Stata and R</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./getting_started.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Getting Started</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ttest.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">t-test</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#brief-explanation" id="toc-brief-explanation" class="nav-link active" data-scroll-target="#brief-explanation"><span class="header-section-number">3.1</span> Brief Explanation</a>
  <ul class="collapse">
  <li><a href="#understanding-independent-and-dependent-data" id="toc-understanding-independent-and-dependent-data" class="nav-link" data-scroll-target="#understanding-independent-and-dependent-data"><span class="header-section-number">3.1.1</span> Understanding Independent and Dependent Data</a></li>
  </ul></li>
  <li><a href="#research-scenario" id="toc-research-scenario" class="nav-link" data-scroll-target="#research-scenario"><span class="header-section-number">3.2</span> Research Scenario</a></li>
  <li><a href="#independent-samples-t-test" id="toc-independent-samples-t-test" class="nav-link" data-scroll-target="#independent-samples-t-test"><span class="header-section-number">3.3</span> Independent Samples t-test</a>
  <ul class="collapse">
  <li><a href="#research-question" id="toc-research-question" class="nav-link" data-scroll-target="#research-question"><span class="header-section-number">3.3.1</span> Research Question</a></li>
  </ul></li>
  <li><a href="#technical-requirements" id="toc-technical-requirements" class="nav-link" data-scroll-target="#technical-requirements"><span class="header-section-number">3.4</span> Technical Requirements</a>
  <ul class="collapse">
  <li><a href="#stata" id="toc-stata" class="nav-link" data-scroll-target="#stata"><span class="header-section-number">3.4.1</span> Stata</a></li>
  <li><a href="#r" id="toc-r" class="nav-link" data-scroll-target="#r"><span class="header-section-number">3.4.2</span> R</a></li>
  </ul></li>
  <li><a href="#independent-samples-t-test-1" id="toc-independent-samples-t-test-1" class="nav-link" data-scroll-target="#independent-samples-t-test-1"><span class="header-section-number">3.5</span> Independent Samples t-test</a>
  <ul class="collapse">
  <li><a href="#simulate-data" id="toc-simulate-data" class="nav-link" data-scroll-target="#simulate-data"><span class="header-section-number">3.5.1</span> Simulate Data</a></li>
  <li><a href="#descriptives-and-data-visualization" id="toc-descriptives-and-data-visualization" class="nav-link" data-scroll-target="#descriptives-and-data-visualization"><span class="header-section-number">3.5.2</span> Descriptives and data visualization</a></li>
  <li><a href="#performing-the-t-test" id="toc-performing-the-t-test" class="nav-link" data-scroll-target="#performing-the-t-test"><span class="header-section-number">3.5.3</span> Performing the t-test</a></li>
  <li><a href="#interpretation" id="toc-interpretation" class="nav-link" data-scroll-target="#interpretation"><span class="header-section-number">3.5.4</span> Interpretation</a></li>
  </ul></li>
  <li><a href="#paired-samples-t-test" id="toc-paired-samples-t-test" class="nav-link" data-scroll-target="#paired-samples-t-test"><span class="header-section-number">3.6</span> Paired Samples t-test</a>
  <ul class="collapse">
  <li><a href="#research-question-1" id="toc-research-question-1" class="nav-link" data-scroll-target="#research-question-1"><span class="header-section-number">3.6.1</span> Research Question</a></li>
  <li><a href="#simulate-data-1" id="toc-simulate-data-1" class="nav-link" data-scroll-target="#simulate-data-1"><span class="header-section-number">3.6.2</span> Simulate Data</a></li>
  <li><a href="#descriptives-and-data-visualization-1" id="toc-descriptives-and-data-visualization-1" class="nav-link" data-scroll-target="#descriptives-and-data-visualization-1"><span class="header-section-number">3.6.3</span> Descriptives and data visualization</a></li>
  <li><a href="#performing-the-t-test-1" id="toc-performing-the-t-test-1" class="nav-link" data-scroll-target="#performing-the-t-test-1"><span class="header-section-number">3.6.4</span> Performing the t-test</a></li>
  <li><a href="#interpretation-1" id="toc-interpretation-1" class="nav-link" data-scroll-target="#interpretation-1"><span class="header-section-number">3.6.5</span> Interpretation</a></li>
  </ul></li>
  <li><a href="#explanation-of-relevant-terms" id="toc-explanation-of-relevant-terms" class="nav-link" data-scroll-target="#explanation-of-relevant-terms"><span class="header-section-number">3.7</span> Explanation of Relevant Terms</a></li>
  <li><a href="#interpretation-questions" id="toc-interpretation-questions" class="nav-link" data-scroll-target="#interpretation-questions"><span class="header-section-number">3.8</span> Interpretation Questions</a></li>
  <li><a href="#effect-sizes-for-t-tests" id="toc-effect-sizes-for-t-tests" class="nav-link" data-scroll-target="#effect-sizes-for-t-tests"><span class="header-section-number">3.9</span> Effect Sizes for t-tests</a>
  <ul class="collapse">
  <li><a href="#differences-between-paired-and-independent-effect-size-calculations" id="toc-differences-between-paired-and-independent-effect-size-calculations" class="nav-link" data-scroll-target="#differences-between-paired-and-independent-effect-size-calculations"><span class="header-section-number">3.9.1</span> Differences Between Paired and Independent Effect Size Calculations</a></li>
  </ul></li>
  <li><a href="#r-vs.-stata-commands" id="toc-r-vs.-stata-commands" class="nav-link" data-scroll-target="#r-vs.-stata-commands"><span class="header-section-number">3.10</span> R vs.&nbsp;Stata Commands</a>
  <ul class="collapse">
  <li><a href="#statistical-analysis-commands" id="toc-statistical-analysis-commands" class="nav-link" data-scroll-target="#statistical-analysis-commands"><span class="header-section-number">3.10.1</span> Statistical Analysis Commands</a></li>
  <li><a href="#data-simulation-commands" id="toc-data-simulation-commands" class="nav-link" data-scroll-target="#data-simulation-commands"><span class="header-section-number">3.10.2</span> Data Simulation Commands</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">t-test</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="brief-explanation" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="brief-explanation"><span class="header-section-number">3.1</span> Brief Explanation</h2>
<p>The t-test, proposed by William Sealy Gosset under the pseudonym “Student” in 1908 <span class="citation" data-cites="87464e34-37bc-3288-807c-e421e5a0d7a6">(<a href="references.html#ref-87464e34-37bc-3288-807c-e421e5a0d7a6" role="doc-biblioref">Student 1908</a>)</span> <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> <span class="citation" data-cites="ziliak2008a">(<a href="references.html#ref-ziliak2008a" role="doc-biblioref">Ziliak 2008</a>)</span> <a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>,is used to determine if there is a significant difference between the means of two groups. The t-test is applicable in various scenarios, including both small and large sample sizes, particularly when the population variance is unknown. The t-test assumes that the data is approximately normally distributed.</p>
<p>There are two main types of t-tests commonly used:</p>
<ul>
<li><p><strong>Independent Samples t-test</strong>: Compares the means of two independent groups (between-subjects design).</p></li>
<li><p><strong>Paired Samples t-test</strong>: Compares means from the same group at different times or under different conditions (within-subjects design).</p></li>
</ul>
<section id="understanding-independent-and-dependent-data" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="understanding-independent-and-dependent-data"><span class="header-section-number">3.1.1</span> Understanding Independent and Dependent Data</h3>
<ul>
<li><p><strong>Independent data</strong>: In an independent samples t-test, the data from the two groups are independent, meaning that there is no inherent relationship between the observations in one group and the observations in the other group. This is typical of a <strong>between-subjects design</strong>, where different participants are assigned to different conditions.</p></li>
<li><p><strong>Dependent data</strong>: In a paired samples t-test, the data are dependent, meaning that each observation in one condition is paired with an observation in another condition. This is typical of a <strong>within-subjects design</strong>, where the same participants are measured under different conditions or at different times.</p></li>
</ul>
</section>
</section>
<section id="research-scenario" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="research-scenario"><span class="header-section-number">3.2</span> Research Scenario</h2>
<p>Imagine a tech company, “BeautifulWeb,” which has recently launched a new interface design for its flagship software. The company is keen to understand whether this new design truly enhances user satisfaction compared to the old design. The company has two different research questions:</p>
<ol type="1">
<li><p><strong>Independent Samples Scenario</strong>: BeautifulWeb randomly assigns users to use either the old or the new design and then measures their satisfaction. The research question is: <em>Does the new interface design improve user satisfaction compared to the old design?</em></p></li>
<li><p><strong>Paired Samples Scenario</strong>: BeautifulWeb asks the same users to use both the old and new designs at different times and then measures their satisfaction. The research question is: <em>Does user satisfaction improve after using the new interface design compared to the old design?</em></p></li>
</ol>
</section>
<section id="independent-samples-t-test" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="independent-samples-t-test"><span class="header-section-number">3.3</span> Independent Samples t-test</h2>
<section id="research-question" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="research-question"><span class="header-section-number">3.3.1</span> Research Question</h3>
<p>Does the new interface design improve user satisfaction compared to the old design?</p>
<p><strong>Hypotheses</strong></p>
<ul>
<li><p><strong>Null Hypothesis (H₀):</strong> There is no significant difference in user satisfaction scores between the old and new interface designs.</p></li>
<li><p><strong>Alternative Hypothesis (H₁):</strong> Users report higher satisfaction scores with the new interface design compared to the old design.</p></li>
</ul>
</section>
</section>
<section id="technical-requirements" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="technical-requirements"><span class="header-section-number">3.4</span> Technical Requirements</h2>
<p>Before we start, we need to prepare R and Stata (but mostly R, really) for the specific analysis we are focusing on. This implies loading any required packages typically used for these analyses, or ones that are useful to process the data (cleaning, shapng, tidying, transforming, etc.).</p>
<section id="stata" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="stata"><span class="header-section-number">3.4.1</span> Stata</h3>
<p>No specific Stata libraries need to be installed. All that you need should be available by default in Stata.</p>
</section>
<section id="r" class="level3" data-number="3.4.2">
<h3 data-number="3.4.2" class="anchored" data-anchor-id="r"><span class="header-section-number">3.4.2</span> R</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the necessary packages </span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># used for data manipulation and visualization</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggthemes) <span class="co"># adds new plotting themes for data visualization</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cowplot) <span class="co"># nice plot theme and makes it easier to adjust plot text features</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(effsize) <span class="co"># for effect size calculations</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># to install any missing packages go to the Terminal and run the command: install.packages("PACKAGE_NAME")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="independent-samples-t-test-1" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="independent-samples-t-test-1"><span class="header-section-number">3.5</span> Independent Samples t-test</h2>
<section id="simulate-data" class="level3" data-number="3.5.1">
<h3 data-number="3.5.1" class="anchored" data-anchor-id="simulate-data"><span class="header-section-number">3.5.1</span> Simulate Data</h3>
<p>Instead of relying on existng datasets with real data, we will generate our own data sets with fake data. These data were generated to reflect the research scenario in this chapter. This also means that these data are not real and therefore any conclusions drawn from the analyses are invalid, and serve only for educational purposes.</p>
<p>By generating a fake dataset, you are also learning how to do Data Simulation, something that might come in handy in the future if you need to conduct statistical power analyses, or create datasets to provide examples of your analyses in help-seeking contexts without having to share any sensitive real data (e.g., when asking for help with your code in platforms such as https://stats.stackexchange.com/).</p>
<section id="stata-1" class="level4" data-number="3.5.1.1">
<h4 data-number="3.5.1.1" class="anchored" data-anchor-id="stata-1"><span class="header-section-number">3.5.1.1</span> Stata</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">clear</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="kw">set</span> <span class="dv">seed</span> 123</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="kw">set</span> <span class="kw">obs</span> 60</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="kw">gen</span> <span class="fu">group</span> = <span class="fu">cond</span>(<span class="dt">_n</span> &lt;= 30, <span class="st">"Old Design"</span>, <span class="st">"New Design"</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="kw">gen</span> satisfaction = rnormal(70 + 5 * (<span class="fu">group</span> == <span class="st">"New Design"</span>), 10)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="kw">save</span> satisfaction_data_independent.dta, <span class="kw">replace</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Number of observations (_N) was 0, now 60.



file satisfaction_data_independent.dta saved</code></pre>
</div>
</div>
</section>
<section id="r-1" class="level4" data-number="3.5.1.2">
<h4 data-number="3.5.1.2" class="anchored" data-anchor-id="r-1"><span class="header-section-number">3.5.1.2</span> R</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">30</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>old_design <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">70</span>, <span class="at">sd =</span> <span class="dv">10</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>new_design <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">75</span>, <span class="at">sd =</span> <span class="dv">10</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>studydata <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">group =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Old Design"</span>, <span class="st">"New Design"</span>), <span class="at">each =</span> n),</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">satisfaction =</span> <span class="fu">c</span>(old_design, new_design)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(studydata, <span class="st">"satisfaction_data_independent.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="descriptives-and-data-visualization" class="level3" data-number="3.5.2">
<h3 data-number="3.5.2" class="anchored" data-anchor-id="descriptives-and-data-visualization"><span class="header-section-number">3.5.2</span> Descriptives and data visualization</h3>
<section id="stata-2" class="level4" data-number="3.5.2.1">
<h4 data-number="3.5.2.1" class="anchored" data-anchor-id="stata-2"><span class="header-section-number">3.5.2.1</span> Stata</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> satisfaction_data_independent.dta</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">summarize</span> satisfaction</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="kw">graph</span> box satisfaction, <span class="bn">over</span>(<span class="fu">group</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
satisfaction |         60    72.01051    11.46396   28.95397   95.01126</code></pre>
</div>
</div>
<p><img src="images/ttest_boxplot.png" class="img-fluid"></p>
</section>
<section id="r-2" class="level4" data-number="3.5.2.2">
<h4 data-number="3.5.2.2" class="anchored" data-anchor-id="r-2"><span class="header-section-number">3.5.2.2</span> R</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import data</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>studydata <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"satisfaction_data_independent.csv"</span>) </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary of data</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(studydata<span class="sc">$</span>satisfaction)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  50.33   65.48   73.26   73.16   80.62   96.69 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(studydata, <span class="fu">aes</span>(<span class="at">x =</span> group, <span class="at">y =</span> satisfaction, <span class="at">fill =</span> group)) <span class="sc">+</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.color =</span> <span class="st">"red"</span>, <span class="at">outlier.shape =</span> <span class="dv">16</span>, <span class="at">outlier.size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set3"</span>) <span class="sc">+</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_cowplot</span>() <span class="sc">+</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Satisfaction Scores by Design Group"</span>,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Design Group"</span>,</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Satisfaction Score"</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ttest_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="performing-the-t-test" class="level3" data-number="3.5.3">
<h3 data-number="3.5.3" class="anchored" data-anchor-id="performing-the-t-test"><span class="header-section-number">3.5.3</span> Performing the t-test</h3>
<p><strong>Important Note About R’s t-test</strong></p>
<p>By default, R uses <strong>Welch’s t-test</strong>, which does not assume equal variances between the groups. This is often a more robust approach, but if you want to match the classical t-test calculation (assuming equal variances), you need to specify <code>var.equal = TRUE</code> in the <code>t.test()</code> function. The code provided here uses the classical approach to ensure it matches the Stata output.</p>
<section id="stata-3" class="level4" data-number="3.5.3.1">
<h4 data-number="3.5.3.1" class="anchored" data-anchor-id="stata-3"><span class="header-section-number">3.5.3.1</span> Stata</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> satisfaction_data_independent.dta</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="kw">ttest</span> satisfaction, <span class="kw">by</span>(<span class="fu">group</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Two-sample t test with equal variances
------------------------------------------------------------------------------
   Group |     Obs        Mean    Std. err.   Std. dev.   [95% conf. interval]
---------+--------------------------------------------------------------------
New Desi |      30    73.71915    2.408986    13.19456    68.79222    78.64608
Old Desi |      30    70.30186    1.705283    9.340221    66.81417    73.78956
---------+--------------------------------------------------------------------
Combined |      60    72.01051     1.47999    11.46396    69.04905    74.97196
---------+--------------------------------------------------------------------
    diff |             3.41729    2.951475               -2.490729    9.325309
------------------------------------------------------------------------------
    diff = mean(New Desi) - mean(Old Desi)                        t =   1.1578
H0: diff = 0                                     Degrees of freedom =       58

    Ha: diff &lt; 0                 Ha: diff != 0                 Ha: diff &gt; 0
 Pr(T &lt; t) = 0.8742         Pr(|T| &gt; |t|) = 0.2517          Pr(T &gt; t) = 0.1258</code></pre>
</div>
</div>
</section>
<section id="r-3" class="level4" data-number="3.5.3.2">
<h4 data-number="3.5.3.2" class="anchored" data-anchor-id="r-3"><span class="header-section-number">3.5.3.2</span> R</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(satisfaction <span class="sc">~</span> group, <span class="at">data =</span> studydata, <span class="at">var.equal =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Two Sample t-test

data:  satisfaction by group
t = 3.0841, df = 58, p-value = 0.003125
alternative hypothesis: true difference in means between group New Design and group Old Design is not equal to 0
95 percent confidence interval:
  2.545972 11.962870
sample estimates:
mean in group New Design mean in group Old Design 
                76.78338                 69.52896 </code></pre>
</div>
</div>
</section>
</section>
<section id="interpretation" class="level3" data-number="3.5.4">
<h3 data-number="3.5.4" class="anchored" data-anchor-id="interpretation"><span class="header-section-number">3.5.4</span> Interpretation</h3>
<ul>
<li><strong>P-value</strong>: Indicates whether the difference in means is statistically significant.</li>
<li><strong>Confidence Interval</strong>: By default, this is a 95% confidence interval, but you can adjust this with the <code>conf.level</code> parameter in the <code>t.test()</code> function.</li>
</ul>
</section>
</section>
<section id="paired-samples-t-test" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="paired-samples-t-test"><span class="header-section-number">3.6</span> Paired Samples t-test</h2>
<section id="research-question-1" class="level3" data-number="3.6.1">
<h3 data-number="3.6.1" class="anchored" data-anchor-id="research-question-1"><span class="header-section-number">3.6.1</span> Research Question</h3>
<p><strong>Research Question:</strong> Does user satisfaction improve after using the new interface design compared to the old design?</p>
<p><strong>Hypothesis</strong></p>
<ul>
<li><p><strong>Null Hypothesis (H₀):</strong> There is no significant difference in user satisfaction scores before and after using the new interface design.</p></li>
<li><p><strong>Alternative Hypothesis (H₁):</strong> Users report higher satisfaction scores after using the new interface design compared to before.</p></li>
</ul>
</section>
<section id="simulate-data-1" class="level3" data-number="3.6.2">
<h3 data-number="3.6.2" class="anchored" data-anchor-id="simulate-data-1"><span class="header-section-number">3.6.2</span> Simulate Data</h3>
<section id="stata-4" class="level4" data-number="3.6.2.1">
<h4 data-number="3.6.2.1" class="anchored" data-anchor-id="stata-4"><span class="header-section-number">3.6.2.1</span> Stata</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">clear</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="kw">set</span> <span class="dv">seed</span> 123</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="kw">set</span> <span class="kw">obs</span> 30</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="kw">gen</span> user_id = <span class="dt">_n</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="kw">gen</span> before_update = rnormal(70, 10)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="kw">gen</span> after_update = rnormal(75, 10)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="kw">save</span> satisfaction_data_paired.dta, <span class="kw">replace</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Number of observations (_N) was 0, now 30.




file satisfaction_data_paired.dta saved</code></pre>
</div>
</div>
</section>
<section id="r-4" class="level4" data-number="3.6.2.2">
<h4 data-number="3.6.2.2" class="anchored" data-anchor-id="r-4"><span class="header-section-number">3.6.2.2</span> R</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">30</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>before_update <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">70</span>, <span class="at">sd =</span> <span class="dv">10</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>after_update <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">75</span>, <span class="at">sd =</span> <span class="dv">10</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>studydata <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">user_id =</span> <span class="dv">1</span><span class="sc">:</span>n,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">before_update =</span> before_update,</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">after_update =</span> after_update</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(studydata, <span class="st">"satisfaction_data_paired.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="descriptives-and-data-visualization-1" class="level3" data-number="3.6.3">
<h3 data-number="3.6.3" class="anchored" data-anchor-id="descriptives-and-data-visualization-1"><span class="header-section-number">3.6.3</span> Descriptives and data visualization</h3>
<section id="stata-5" class="level4" data-number="3.6.3.1">
<h4 data-number="3.6.3.1" class="anchored" data-anchor-id="stata-5"><span class="header-section-number">3.6.3.1</span> Stata</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> satisfaction_data_paired.dta</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="kw">summarize</span> before_update after_update</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="kw">graph</span> box before_update after_update, <span class="bn">title</span>(<span class="st">"Satisfaction Scores Before and After Update"</span>) <span class="bn">ytitle</span>(<span class="st">"Satisfaction Score"</span>) b1title(<span class="st">"Update Status"</span>) nooutsides</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
before_upd~e |         30    70.30186    9.340221   52.33546   91.09727
after_update |         30    73.71915    13.19456   28.95397   95.01126</code></pre>
</div>
</div>
</section>
<section id="section" class="level4" data-number="3.6.3.2">
<h4 data-number="3.6.3.2" class="anchored" data-anchor-id="section"><span class="header-section-number">3.6.3.2</span> <img src="images/ttest_paired_boxplot.png" class="img-fluid"></h4>
</section>
<section id="r-5" class="level4" data-number="3.6.3.3">
<h4 data-number="3.6.3.3" class="anchored" data-anchor-id="r-5"><span class="header-section-number">3.6.3.3</span> R</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>studydata <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"satisfaction_data_paired.csv"</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(studydata[, <span class="fu">c</span>(<span class="st">"before_update"</span>, <span class="st">"after_update"</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> before_update    after_update  
 Min.   :50.33   Min.   :59.51  
 1st Qu.:63.29   1st Qu.:71.97  
 Median :69.26   Median :75.48  
 Mean   :69.53   Mean   :76.78  
 3rd Qu.:74.89   3rd Qu.:82.57  
 Max.   :87.87   Max.   :96.69  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reshape the data to long format</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>studydata_long <span class="ot">&lt;-</span> studydata <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"before_update"</span>, <span class="st">"after_update"</span>), </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"Condition"</span>, </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"Satisfaction"</span>)</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the boxplot</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(studydata_long, <span class="fu">aes</span>(<span class="at">x =</span> Condition, <span class="at">y =</span> Satisfaction, <span class="at">fill =</span> Condition)) <span class="sc">+</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_cowplot</span>() <span class="sc">+</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Satisfaction Scores Before and After Update"</span>, </span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Condition"</span>, </span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Satisfaction Score"</span>) <span class="sc">+</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"green"</span>))</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ttest_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="performing-the-t-test-1" class="level3" data-number="3.6.4">
<h3 data-number="3.6.4" class="anchored" data-anchor-id="performing-the-t-test-1"><span class="header-section-number">3.6.4</span> Performing the t-test</h3>
<section id="stata-6" class="level4" data-number="3.6.4.1">
<h4 data-number="3.6.4.1" class="anchored" data-anchor-id="stata-6"><span class="header-section-number">3.6.4.1</span> Stata</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> satisfaction_data_paired.dta</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="kw">ttest</span> before_update == after_update</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Paired t test
------------------------------------------------------------------------------
Variable |     Obs        Mean    Std. err.   Std. dev.   [95% conf. interval]
---------+--------------------------------------------------------------------
before~e |      30    70.30186    1.705283    9.340221    66.81417    73.78956
after_~e |      30    73.71915    2.408986    13.19456    68.79222    78.64608
---------+--------------------------------------------------------------------
    diff |      30    -3.41729    2.976942    16.30539   -9.505821    2.671241
------------------------------------------------------------------------------
     mean(diff) = mean(before_update - after_update)              t =  -1.1479
 H0: mean(diff) = 0                              Degrees of freedom =       29

 Ha: mean(diff) &lt; 0           Ha: mean(diff) != 0           Ha: mean(diff) &gt; 0
 Pr(T &lt; t) = 0.1302         Pr(|T| &gt; |t|) = 0.2604          Pr(T &gt; t) = 0.8698</code></pre>
</div>
</div>
</section>
<section id="r-6" class="level4" data-number="3.6.4.2">
<h4 data-number="3.6.4.2" class="anchored" data-anchor-id="r-6"><span class="header-section-number">3.6.4.2</span> R</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>studydata <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"satisfaction_data_paired.csv"</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(studydata<span class="sc">$</span>before_update, studydata<span class="sc">$</span>after_update, <span class="at">paired =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Paired t-test

data:  studydata$before_update and studydata$after_update
t = -2.8692, df = 29, p-value = 0.007601
alternative hypothesis: true mean difference is not equal to 0
95 percent confidence interval:
 -12.425597  -2.083245
sample estimates:
mean difference 
      -7.254421 </code></pre>
</div>
</div>
</section>
</section>
<section id="interpretation-1" class="level3" data-number="3.6.5">
<h3 data-number="3.6.5" class="anchored" data-anchor-id="interpretation-1"><span class="header-section-number">3.6.5</span> Interpretation</h3>
<ul>
<li><strong>P-value</strong>: Indicates whether the difference in means is statistically significant.</li>
<li><strong>Confidence Interval</strong>: It can be adjusted from the default 95% to another level if needed (but simply use 95% in case you are in doubt).</li>
</ul>
</section>
</section>
<section id="explanation-of-relevant-terms" class="level2" data-number="3.7">
<h2 data-number="3.7" class="anchored" data-anchor-id="explanation-of-relevant-terms"><span class="header-section-number">3.7</span> Explanation of Relevant Terms</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 26%">
<col style="width: 47%">
<col style="width: 26%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Term</strong></th>
<th><strong>Definition</strong></th>
<th><strong>Common Misconception</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>P-value</strong></td>
<td>The probability of obtaining test results at least as extreme as the results actually observed, under the assumption that the null hypothesis is true.</td>
<td>The p-value is the probability that the null hypothesis is true.</td>
</tr>
<tr class="even">
<td><strong>Confidence Interval</strong></td>
<td>A range of values, derived from the sample data, that is believed to contain the true parameter value with a certain probability. The most common level of confidence is 95%, but this can be adjusted (e.g., to 90% or 99%) depending on the analysis.</td>
<td>A 95% confidence interval means there is a 95% probability that the true parameter lies within the interval.</td>
</tr>
<tr class="odd">
<td><strong>T-statistic</strong></td>
<td>A ratio of the departure of the estimated value of a parameter from its hypothesized value to its standard error. The degrees of freedom (df) are the number of independent values that can vary in an analysis without breaking any constraints.</td>
<td>The t-statistic directly tells us the probability of the null hypothesis being true.</td>
</tr>
</tbody>
</table>
</section>
<section id="interpretation-questions" class="level2" data-number="3.8">
<h2 data-number="3.8" class="anchored" data-anchor-id="interpretation-questions"><span class="header-section-number">3.8</span> Interpretation Questions</h2>
<ol type="1">
<li><strong>What does a significant p-value indicate in the context of this t-test?</strong></li>
</ol>
<button onclick="toggleSolution('sol1')">
<p>Show/Hide Solution 1</p>
</button>
<div id="sol1" style="display:none;">
<p><strong>Solution 1:</strong> A significant p-value indicates that the observed data is unlikely under the null hypothesis. This suggests that there is evidence against the null hypothesis, implying a statistically significant difference between the satisfaction scores of the two groups (for independent samples) or before and after the update (for paired samples). However, it does not measure the probability that the null hypothesis is true or false.</p>
</div>
<ol start="2" type="1">
<li><strong>How would you interpret the confidence interval in this analysis?</strong></li>
</ol>
<button onclick="toggleSolution('sol2')">
<p>Show/Hide Solution 2</p>
</button>
<div id="sol2" style="display:none;">
<p><strong>Solution 2:</strong> The confidence interval provides a range of values that, based on the sample data, is likely to contain the true mean difference. If we were to repeat the experiment many times, we would expect a specified proportion (e.g., 95%) of these intervals to contain the true mean difference. It does not mean that there is a 95% probability that the true mean difference lies within this specific interval. The most common confidence level is 95%, but it can be adjusted depending on the requirements of the analysis.</p>
</div>
<script>
function toggleSolution(id) {
  var element = document.getElementById(id);
  if (element.style.display === "none") {
    element.style.display = "block";
  } else {
    element.style.display = "none";
  }
}
</script>
</section>
<section id="effect-sizes-for-t-tests" class="level2" data-number="3.9">
<h2 data-number="3.9" class="anchored" data-anchor-id="effect-sizes-for-t-tests"><span class="header-section-number">3.9</span> Effect Sizes for t-tests</h2>
<p>Effect sizes are a crucial part of reporting t-test results because they provide information on the magnitude of the difference between groups or conditions, beyond just the statistical significance. Below, we discuss the common effect sizes to report for Independent Samples t-tests and Paired Samples t-tests. The most popular effect size to report for t-tests is Cohen’s d.</p>
<p>The interpretation guidelines for effect sizes such as Cohen’s d and the correlation coefficient (r) are based on widely accepted conventions in the field of psychology and social sciences. These conventions were originally proposed by Jacob Cohen in his foundational work on statistical power analysis.</p>
<p>Cautionary notes from Jacob Cohen regarding his proposed guidelines on effect sizes can be found in his book <em>Statistical Power Analysis for the Behavioral Sciences</em> <span class="citation" data-cites="cohen1988statistical">(<a href="references.html#ref-cohen1988statistical" role="doc-biblioref">Cohen 1988</a>)</span> <a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> and subsequent paper <em>A Power Primer</em> <span class="citation" data-cites="cohen1992power">(<a href="references.html#ref-cohen1992power" role="doc-biblioref">Cohen 1992</a>)</span> <a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>. Cohen emphasized that the guidelines he provided for interpreting effect sizes (i.e., small, medium, and large) were meant to be rough, arbitrary conventions rather than rigid rules. He also proposed that a medium effect size should be visible without the need for statistical tools, though this expectation may not be practical across the diverse fields of research that apply these guidelines. Additionally, Cohen emphasized that these benchmarks are intended for use only when more precise estimates specific to the particular area of study are not available.</p>
<p><strong>Calculating Cohen’s d for Independent Samples t-test:</strong></p>
<ul>
<li><strong>R:</strong></li>
</ul>
<p>To calculate Cohen’s <em>d</em> for an Independent Samples t-test in R, you can use the <code>effsize</code> package, which provides a reliable implementation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We need to use the dataset with the independent groups</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Regenerating the dataset to make sure we have the right one</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">30</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>old_design <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">70</span>, <span class="at">sd =</span> <span class="dv">10</span>)</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>new_design <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">75</span>, <span class="at">sd =</span> <span class="dv">10</span>)</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>studydata_independent <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">group =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Old Design"</span>, <span class="st">"New Design"</span>), <span class="at">each =</span> n),</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">satisfaction =</span> <span class="fu">c</span>(old_design, new_design)</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: Use the dataset with independent samples: studydata_long</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute cohen's d</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>cohen_d <span class="ot">&lt;-</span> <span class="fu">cohen.d</span>(satisfaction <span class="sc">~</span> group, <span class="at">data =</span> studydata_independent, <span class="at">pooled =</span> <span class="cn">TRUE</span>)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">" Cohen's d: "</span>, cohen_d<span class="sc">$</span>estimate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Cohen's d:  0.7963098</code></pre>
</div>
</div>
<ul>
<li><strong>Stata:</strong></li>
</ul>
<p>Stata doesn’t have a built-in command to directly calculate Cohen’s <em>d</em>, but it can be calculated using the following steps:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>* Make sure the appropriate dataset is loaded (<span class="fu">e</span>.g. <span class="kw">use</span> DATASET_NAME)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>* Assuming the <span class="kw">data</span> is already loaded <span class="kw">in</span> Stata</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ttest</span> satisfaction, <span class="kw">by</span>(<span class="fu">group</span>)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>* Calculate manually</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="kw">gen</span> pooled_sd = <span class="fu">sqrt</span>(((<span class="fu">r</span>(sd_1)^2) * (<span class="fu">r</span>(N_1) - 1) + (<span class="fu">r</span>(sd_2)^2) * (<span class="fu">r</span>(N_2) - 1)) / (<span class="fu">r</span>(N_1) + <span class="fu">r</span>(N_2) - 2))</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="kw">gen</span> cohen_d = (<span class="fu">r</span>(mu_1) - <span class="fu">r</span>(mu_2)) / pooled_sd</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="kw">display</span> cohen_d</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>no variables defined
r(111);

r(111);</code></pre>
</div>
</div>
<table class="caption-top table">
<colgroup>
<col style="width: 26%">
<col style="width: 31%">
<col style="width: 41%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Effect Size</strong></th>
<th><strong>Required Information</strong></th>
<th><strong>How to Find It in Articles</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Cohen’s d</strong></td>
<td>Means of both groups, standard deviations, sample sizes</td>
<td>Look for mean differences, standard deviations, and sample sizes in the results section of articles. Typically, these are presented in tables or described in the text.</td>
</tr>
</tbody>
</table>
<p><strong>Calculating Effect Sizes for Paired Samples t-test:</strong></p>
<ul>
<li><strong>R:</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We need to use the dataset with the dependent data</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Regenerating the dataset to make sure we have the right one</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">30</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>before_update <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">70</span>, <span class="at">sd =</span> <span class="dv">10</span>)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>after_update <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">75</span>, <span class="at">sd =</span> <span class="dv">10</span>)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>studydata_paired <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">user_id =</span> <span class="dv">1</span><span class="sc">:</span>n,</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">before_update =</span> before_update,</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">after_update =</span> after_update</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the mean difference and standard deviation of the differences</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>mean_diff <span class="ot">&lt;-</span> <span class="fu">mean</span>(studydata_paired<span class="sc">$</span>before_update <span class="sc">-</span> studydata_paired<span class="sc">$</span>after_update)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>sd_diff <span class="ot">&lt;-</span> <span class="fu">sd</span>(studydata_paired<span class="sc">$</span>before_update <span class="sc">-</span> studydata_paired<span class="sc">$</span>after_update)</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate Cohen's d</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>cohen_d_paired <span class="ot">&lt;-</span> mean_diff <span class="sc">/</span> sd_diff</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Cohen's d = "</span>,cohen_d_paired)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Cohen's d =  -0.5238355</code></pre>
</div>
</div>
<p>To calculate the correlation coefficient (r):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform the paired t-test</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>t_test <span class="ot">&lt;-</span> <span class="fu">t.test</span>(studydata_paired<span class="sc">$</span>before_update, studydata_paired<span class="sc">$</span>after_update, <span class="at">paired =</span> <span class="cn">TRUE</span>)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract values from object of test output</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>t_statistic <span class="ot">&lt;-</span> t_test<span class="sc">$</span>statistic <span class="sc">%&gt;%</span> unname</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>degfreedom <span class="ot">&lt;-</span> t_test<span class="sc">$</span>parameter <span class="sc">%&gt;%</span> unname</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the correlation coefficient</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>r_value <span class="ot">&lt;-</span> t_statistic <span class="sc">/</span> <span class="fu">sqrt</span>(t_statistic<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> degfreedom)</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"r = "</span>,r_value)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>r =  -0.4702152</code></pre>
</div>
</div>
<ul>
<li><strong>Stata:</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>* Make sure the appropriate dataset is loaded (<span class="fu">e</span>.g. <span class="kw">use</span> DATASET_NAME)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>* Perform the paired t-<span class="kw">test</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ttest</span> before_update == after_update</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>* Calculate Cohen <span class="fu">s</span> <span class="kw">d</span> manually</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="kw">gen</span> mean_diff = <span class="fu">r</span>(mu_1) - <span class="fu">r</span>(mu_2)</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="kw">gen</span> sd_diff = <span class="fu">sqrt</span>(<span class="fu">r</span>(sd_1)^2 + <span class="fu">r</span>(sd_2)^2 - 2 * <span class="fu">r</span>(sd_1) * <span class="fu">r</span>(sd_2) * <span class="fu">r</span>(rho))</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="kw">gen</span> cohen_d_paired = mean_diff / sd_diff</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="kw">display</span> cohen_d_paired</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>no variables defined
r(111);

r(111);</code></pre>
</div>
</div>
<p>To calculate the correlation coefficient (r):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>* Calculate <span class="kw">correlation</span> coefficient</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="kw">gen</span> r_value = <span class="fu">r</span>(t) / <span class="fu">sqrt</span>(<span class="fu">r</span>(t)^2 + <span class="fu">r</span>(df))</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="kw">display</span> r_value</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0</code></pre>
</div>
</div>
<table class="caption-top table">
<colgroup>
<col style="width: 26%">
<col style="width: 31%">
<col style="width: 41%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Effect Size</strong></th>
<th><strong>Required Information</strong></th>
<th><strong>How to Find It in Articles</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Cohen’s d (paired)</strong></td>
<td>Mean difference, standard deviation of differences</td>
<td>Look for mean differences and standard deviations of the differences between conditions. These are usually reported in the results section.</td>
</tr>
<tr class="even">
<td><strong>Correlation coefficient (r)</strong></td>
<td>t-statistic, degrees of freedom</td>
<td>The t-statistic and degrees of freedom are typically found in the results section, often in a table summarizing the t-test results.</td>
</tr>
</tbody>
</table>
<table class="caption-top table">
<colgroup>
<col style="width: 53%">
<col style="width: 15%">
<col style="width: 16%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Effect Size Measure</strong></th>
<th><strong>Small</strong></th>
<th><strong>Medium</strong></th>
<th><strong>Large</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Cohen’s d (Independent or Paired)</strong></td>
<td>0.2</td>
<td>0.5</td>
<td>0.8</td>
</tr>
<tr class="even">
<td><strong>Correlation coefficient (r)</strong></td>
<td>0.1</td>
<td>0.3</td>
<td>0.5</td>
</tr>
</tbody>
</table>
<section id="differences-between-paired-and-independent-effect-size-calculations" class="level3" data-number="3.9.1">
<h3 data-number="3.9.1" class="anchored" data-anchor-id="differences-between-paired-and-independent-effect-size-calculations"><span class="header-section-number">3.9.1</span> Differences Between Paired and Independent Effect Size Calculations</h3>
<ul>
<li><p><strong>Independent Samples t-test</strong>: Cohen’s d is calculated using the pooled standard deviation of the two independent groups. The formula assumes that the two groups are independent and do not share any subjects.</p></li>
<li><p><strong>Paired Samples t-test</strong>: Cohen’s d for paired samples is calculated using the standard deviation of the differences between paired observations. This accounts for the fact that the same subjects are measured twice, and thus the observations are not independent.</p></li>
</ul>
<p>The correlation coefficient (r) in paired samples t-tests can also provide insight into the strength of the relationship between the two sets of observations, which is not applicable in independent samples designs.</p>
</section>
</section>
<section id="r-vs.-stata-commands" class="level2" data-number="3.10">
<h2 data-number="3.10" class="anchored" data-anchor-id="r-vs.-stata-commands"><span class="header-section-number">3.10</span> R vs.&nbsp;Stata Commands</h2>
<section id="statistical-analysis-commands" class="level3" data-number="3.10.1">
<h3 data-number="3.10.1" class="anchored" data-anchor-id="statistical-analysis-commands"><span class="header-section-number">3.10.1</span> Statistical Analysis Commands</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 26%">
<col style="width: 45%">
<col style="width: 27%">
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>R Command</th>
<th>Stata Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Descriptive Statistics</td>
<td><code>summary(studydata$satisfaction)</code></td>
<td><code>summarize satisfaction</code></td>
</tr>
<tr class="even">
<td>Box Plot</td>
<td><code>ggplot(studydata, aes(x = group, y = satisfaction)) + geom_boxplot()</code></td>
<td><code>graph box satisfaction, over(group)</code></td>
</tr>
<tr class="odd">
<td>T-Test (Independent)</td>
<td><code>t.test(satisfaction ~ group, data = studydata, var.equal = TRUE)</code></td>
<td><code>ttest satisfaction, by(group)</code></td>
</tr>
<tr class="even">
<td>T-Test (Paired)</td>
<td><code>t.test(studydata$before_update, studydata$after_update, paired = TRUE)</code></td>
<td><code>ttest before_update == after_update</code></td>
</tr>
</tbody>
</table>
</section>
<section id="data-simulation-commands" class="level3" data-number="3.10.2">
<h3 data-number="3.10.2" class="anchored" data-anchor-id="data-simulation-commands"><span class="header-section-number">3.10.2</span> Data Simulation Commands</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 26%">
<col style="width: 41%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>R Command</th>
<th>Stata Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Generate Data</td>
<td><code>rnorm(n, mean, sd)</code></td>
<td><code>rnormal(mean, sd)</code></td>
</tr>
<tr class="even">
<td>Save Data</td>
<td><code>write.csv(studydata, "satisfaction_data.csv")</code></td>
<td><code>save satisfaction_data.dta, replace</code></td>
</tr>
</tbody>
</table>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-cohen1988statistical" class="csl-entry" role="listitem">
Cohen, J. 1988. <em>Statistical Power Analysis for the Behavioral Sciences</em>. 2nd ed. Hillsdale, NJ: Lawrence Erlbaum Associates.
</div>
<div id="ref-cohen1992power" class="csl-entry" role="listitem">
———. 1992. <span>“A Power Primer. Psychological Bulletin, 112 (1), 155–159.”</span>
</div>
<div id="ref-87464e34-37bc-3288-807c-e421e5a0d7a6" class="csl-entry" role="listitem">
Student. 1908. <span>“The Probable Error of a Mean.”</span> <em>Biometrika</em> 6 (1): 1–25. <a href="http://www.jstor.org/stable/2331554">http://www.jstor.org/stable/2331554</a>.
</div>
<div id="ref-ziliak2008a" class="csl-entry" role="listitem">
Ziliak, Stephen T. 2008. <span>“Retrospectives: Guinnessometrics: The Economic Foundation of <span>“</span>Student’s<span>”</span> <span><em>t</em></span>.”</span> <em>Journal of Economic Perspectives</em> 22 (4): 199–216. <a href="https://doi.org/10.1257/jep.22.4.199">https://doi.org/10.1257/jep.22.4.199</a>.
</div>
</div>
</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Student. (1908). The Probable Error of a Mean.&nbsp;<em>Biometrika</em>,&nbsp;<em>6</em>(1), 1–25. https://doi.org/10.2307/2331554<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Ziliak, Stephen T.&nbsp;2008.&nbsp;“Retrospectives: Guinnessometrics: The Economic Foundation of”Student’s”&nbsp;<em>t</em>.”&nbsp;<em>Journal of Economic Perspectives</em>,&nbsp;22 (4): 199–216<strong>.</strong><a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Cohen, Jacob. 1988. <em>Statistical Power Analysis for the BehavioralSciences</em>. 2nd ed.&nbsp;Hillsdale, NJ: Lawrence Erlbaum Associates.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>Cohen, J. (1992). A power primer. <em>Psycholigcal Bulletin</em>, 112 (1), 155–159.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./getting_started.html" class="pagination-link" aria-label="Getting Started">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Getting Started</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./references.html" class="pagination-link" aria-label="References">
        <span class="nav-page-text">References</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>